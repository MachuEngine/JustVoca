<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì„ ìƒë‹˜ ëŒ€ì‹œë³´ë“œ</title>

<style>
:root{
 --bg:#f4f7f6; --card:#fff; --primary:#4a90e2;
 --accent:#e74c3c; --text:#2c3e50; --desc:#5d6d7e;
}
body{
 margin:0; background:var(--bg);
 font-family:'Pretendard',-apple-system,sans-serif;
 display:flex; justify-content:center;
}
.container{width:360px;padding:20px 0 170px;}
.card{
 background:var(--card); border-radius:25px;
 box-shadow:0 15px 40px rgba(0,0,0,.08);
 padding:22px; margin-bottom:20px;
 border:1px solid #ebedef;
}
h2{margin:0 0 10px;color:var(--text);}
small{color:var(--desc);}

/* í†µê³„ */
.stats{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.stat{
 background:#eef5ff; border-radius:18px;
 padding:15px; cursor:pointer;
}
.stat.active{outline:2px solid var(--primary);}
.stat strong{font-size:1.4rem;color:var(--primary);}

/* ê²€ìƒ‰ */
.search-area{
 display:flex;
 gap:8px;
 margin-bottom:10px;
}
.search-area input{
 flex:1;
 padding:10px 12px;
 border-radius:14px;
 border:1px solid #dfe4ea;
 font-size:.85rem;
}
.search-area button{
 padding:10px 14px;
 border:none;
 border-radius:14px;
 background:var(--primary);
 color:white;
 font-size:.8rem;
 font-weight:600;
 cursor:pointer;
}

/* í•™ìƒ */
.student{
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:12px 0; border-bottom:1px solid #eee;
 cursor:pointer;
}
.student:last-child{border-bottom:none;}
.student-info{flex:1; margin-right:10px;}
.reset-btn{
 padding:4px 8px;
 border:none;
 border-radius:8px;
 background:var(--accent);
 color:white;
 font-size:.75rem;
 cursor:pointer;
}
.warning{color:var(--accent);font-weight:700;}

/* íƒ€ì„ë¼ì¸ */
.timeline{margin-top:12px;}
.step{display:flex;align-items:center;margin-bottom:8px;}
.dot{width:10px;height:10px;border-radius:50%;background:var(--primary);margin-right:8px;}

/* ê³µì§€ */
.notice select,.notice input,.notice textarea{
 width:100%;border-radius:14px;
 border:1px solid #dfe4ea;
 padding:10px;font-size:.85rem;
 margin-top:10px;
}
.notice textarea{resize:none;}
.notice button{
 width:100%;margin-top:12px;
 padding:12px;border:none;
 border-radius:16px;
 background:var(--primary);
 color:white;font-weight:700;
}

/* ë¡œê·¸ */
.log{
 font-size:.8rem;
 padding:6px 0;
 border-bottom:1px solid #eee;
}

/* ëª¨ë‹¬ */
.dim{
 position:fixed;inset:0;
 background:rgba(0,0,0,.45);
 display:none;justify-content:center;
 align-items:center;z-index:100;
}
.modal{
 width:320px;background:#fff;
 border-radius:25px;padding:25px;
 text-align:center;
 box-shadow:0 20px 50px rgba(0,0,0,.25);
}
.modal p{font-size:.9rem;color:var(--desc);line-height:1.6;}
.modal button{
 width:100%;margin-top:14px;
 padding:12px;border:none;
 border-radius:14px;
 background:var(--primary);
 color:white;font-weight:600;
}
</style>
</head>

<body>

<div class="container">

<!-- í†µê³„ -->
<div class="card">
<h2>ğŸ“Š í•™ìŠµ í†µê³„</h2>
<div class="stats">
<div class="stat active" onclick="selectStat('students',this)">
<strong>3</strong><br><small>ì „ì²´ í•™ìƒ</small>
</div>
<div class="stat" onclick="selectStat('progress',this)">
<strong>68%</strong><br><small>ì§„ë„ í‰ê· </small>
</div>
<div class="stat" onclick="selectStat('assignment',this)">
<strong>2</strong><br><small>ê³¼ì œ ì œì¶œ</small>
</div>
<div class="stat" onclick="selectStat('exam',this)">
<strong>82</strong><br><small>ì‹œí—˜ í‰ê· </small>
</div>
</div>
</div>

<!-- ë¦¬ìŠ¤íŠ¸ -->
<div class="card">
<h2 id="listTitle">ğŸ‘¥ ì „ì²´ í•™ìƒ</h2>

<div class="search-area">
<input id="searchInput" placeholder="ì´ë¦„ / ì´ë©”ì¼ / ì—°ë½ì²˜ ê²€ìƒ‰">
<button onclick="applySearch()">ê²€ìƒ‰</button>
</div>

<div id="list"></div>
</div>

<!-- ê³µì§€ -->
<div class="card notice">
<h2>ğŸ“¢ ì „ì²´ ê³µì§€ ë°œì†¡</h2>
<select id="sendType">
<option value="now">ì¦‰ì‹œ ë°œì†¡</option>
<option value="reserve">ì˜ˆì•½ ë°œì†¡</option>
</select>
<input type="datetime-local" id="reserveTime" style="display:none">
<textarea id="noticeText" rows="3" placeholder="ê³µì§€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
<button onclick="sendNotice()">ê³µì§€ ë°œì†¡</button>
</div>

<!-- ê³µì§€ ë¡œê·¸ -->
<div class="card">
<h2>ğŸ—‚ ê³µì§€ ë°œì†¡ ë¡œê·¸</h2>
<div id="noticeLog"></div>
</div>

</div>

<div class="dim" id="dim">
<div class="modal" id="modal"></div>
</div>

<script>
const students=[
{
 name:"Ali", email:"minji@example.com", phone:"010-1234-5678",
 course:"ì´ˆê¸‰1 Aë°˜", progress:65,
 progressDetail:["í•™êµìƒí™œ"],
 assignment:"ì œì¶œ", score:90
},
{
 name:"Alex", email:"alex@mail.com", phone:"+82-10-2222-3333",
 course:"", progress:60,
 progressDetail:["í˜„ì¬ ì‹œì œ"],
 assignment:"ë¯¸ì œì¶œ", score:74
},
{
 name:"Maria", email:"maria@mail.com", phone:"+82-10-9999-8888",
 course:"ì´ˆê¸‰1 Aë°˜", progress:70,
 progressDetail:["ìŒì‹ì  ë©”ë‰´ ë§í•˜ê¸°"],
 assignment:"ì œì¶œ", score:82
}
];

const AVG_P=65, AVG_S=82;
let currentType="students";
let searchKeyword="";

const list=document.getElementById("list");
const dim=document.getElementById("dim");
const modal=document.getElementById("modal");

searchInput.addEventListener("keydown",e=>{
 if(e.key==="Enter") applySearch();
});

function applySearch(){
 searchKeyword=searchInput.value.trim().toLowerCase();
 renderList();
}

function selectStat(type,el){
 currentType=type;
 document.querySelectorAll(".stat").forEach(s=>s.classList.remove("active"));
 el.classList.add("active");
 listTitle.innerText={
  students:"ğŸ‘¥ ì „ì²´ í•™ìƒ",
  progress:"ğŸ“ˆ ì§„ë„ í‰ê· ",
  assignment:"ğŸ“„ ê³¼ì œ ì œì¶œ",
  exam:"ğŸ“ ì‹œí—˜ í‰ê· "
 }[type];
 renderList();
}

function renderList(){
 list.innerHTML="";
 students.filter(s=>{
  if(!searchKeyword) return true;
  return s.name.toLowerCase().includes(searchKeyword)
   || s.email.toLowerCase().includes(searchKeyword)
   || s.phone.includes(searchKeyword);
 }).forEach((s,i)=>{
  let text="",warn=false,handler="openBasicProfile";
  if(currentType==="progress"){
   text=`ì§„ë„ ${s.progress}% (${s.progressDetail.join(" Â· ")})`;
   warn=s.progress<AVG_P; handler="openProfile";
  }
  else if(currentType==="assignment"){
   text=`ê³¼ì œ ${s.assignment}`;
   warn=s.assignment==="ë¯¸ì œì¶œ";
   handler=warn?"openProfile":"openAssignment";
  }
  else if(currentType==="exam"){
   text=`ì‹œí—˜ ${s.score}ì `;
   warn=s.score<AVG_S; handler="openExam";
  }
  else text=s.course;

  list.innerHTML+=`
  <div class="student">
   <div class="student-info" onclick="${handler}(${i})">
    <strong class="${warn?'warning':''}">${s.name}</strong><br>
    <small class="${warn?'warning':''}">${text}</small>
   </div>
   ${currentType==="students" ? `<button class="reset-btn" onclick="event.stopPropagation(); resetPassword(${i})">ì´ˆê¸°í™”</button>` : ''}
  </div>`;
 });
}

selectStat("students",document.querySelector(".stat"));

function openBasicProfile(i){
 const s=students[i];
 modal.innerHTML=`
 <h3>${s.name}</h3>
 <p>ğŸ“§ ${s.email}<br>ğŸ“ ${s.phone}</p>
 <button onclick="closeModal()">í™•ì¸</button>`;
 showModal();
}

function openProfile(i){
 const s=students[i];
 modal.innerHTML=`
 <h3>${s.name}</h3>
 <p>ìˆ˜ê°•: ${s.course}<br>ì§„ë„: ${s.progress}%<br>ì‹œí—˜: ${s.score}ì <br>ê³¼ì œ: ${s.assignment}</p>
 <div class="timeline">
 ${s.progressDetail.map(p=>`
  <div class="step"><div class="dot"></div><small>${p} ì™„ë£Œ</small></div>
 `).join("")}
 </div>
 <button onclick="closeModal()">í™•ì¸</button>`;
 showModal();
}

function openAssignment(i){
 modal.innerHTML=`
 <h3>${students[i].name} ê³¼ì œ</h3>
 <p>ì œì¶œì¼: 2026-01-10<br>ë‚´ìš©: ë‹¨ì–´ ì˜ˆë¬¸ ì‘ì„±</p>
 <button onclick="closeModal()">ë‹«ê¸°</button>`;
 showModal();
}

function openExam(i){
 modal.innerHTML=`
 <h3>${students[i].name} ì‹œí—˜ ê²°ê³¼</h3>
 <p>â­• ë§ìŒ: 8ë¬¸í•­<br>âŒ í‹€ë¦¼: 2ë¬¸í•­<br><br>ğŸ§  AI í‰ê°€:<br>ì‹œì œ ì˜¤ë¥˜ê°€ ë°˜ë³µë¨</p>
 <button onclick="closeModal()">ë‹«ê¸°</button>`;
 showModal();
}

function resetPassword(i){
 const s=students[i];
 modal.innerHTML=`
 <h3>${s.name}</h3>
 <p>ë¹„ë°€ë²ˆí˜¸ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
 <button onclick="closeModal()">í™•ì¸</button>`;
 showModal();
}

function showModal(){dim.style.display="flex";}
function closeModal(){dim.style.display="none";}

sendType.onchange=()=>reserveTime.style.display=
 sendType.value==="reserve"?"block":"none";

function sendNotice(){
 const text=noticeText.value.trim();
 if(!text) return;
 noticeLog.innerHTML=
 `<div class="log">${new Date().toLocaleString()} Â· ê³µì§€ ë°œì†¡ Â· ${text}</div>` 
 + noticeLog.innerHTML;
 noticeText.value="";
 modal.innerHTML=`<h3>ê³µì§€ ë°œì†¡ ì™„ë£Œ</h3><button onclick="closeModal()">í™•ì¸</button>`;
 showModal();
}
</script>

</body>
</html>
